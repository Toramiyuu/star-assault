---
phase: 00-ux-overhaul
task: 0
total_tasks: 0
status: pre_planning
last_updated: 2026-02-24
---

<current_state>
We are in the middle of `/gsd:new-project` initialization. The user chose "Full /gsd:new-project" and then "Map codebase first". We created `.planning/codebase/` directory but ran out of context BEFORE spawning the 4 mapper agents.

The `/gsd:map-codebase` workflow needs to be re-run from the spawn_agents step.
</current_state>

<completed_work>

## Playtest Fixes (ALL 10 DONE - this session)
1. Boss checkerboard — THRESH 30→55 in `src/scenes/PreloadScene.js`
2. XP orbs — Rewritten as Graphics-drawn green glowing circles in `src/systems/XPManager.js` (no longer sprite-based)
3. Shield too strong — playerShield 3→1 in `src/systems/PlayerStats.js`
4. Leveling too fast — XP thresholds 35/55/80/110 → 50/90/140/200 in `src/systems/XPManager.js`
5. Enemy scales reduced ~20% in `src/systems/WaveManager.js` (grunt=0.08, zigzag=0.09, diver=0.10, leader=0.12, bomber=0.11)
6. Twin laser hit effects — flash + sparks in `src/weapons/TwinLaser.js`
7. Music volume 0.35→0.5 in `src/systems/ProceduralMusic.js`, combat at wave 4
8. Background more dramatic — saturated tints, flash transitions, zone announcements in `src/systems/ScrollingBackground.js`
9. Shield sounds (hit/break/recharge) added to `src/systems/AudioManager.js` + wired in `src/scenes/GameScene.js`
10. Enemy fire rates slowed — zigzagger 4000→5000, leader 3500→4500, removed wave 8 fireRateMultiplier in `src/config/waves.js`

## GSD Setup
- `.planning/config.json` exists (balanced profile, all agents on, auto-advance on)
- `.planning/codebase/` directory created (empty — agents not yet spawned)
</completed_work>

<remaining_work>

## Immediate: Complete GSD Initialization
1. Run `/gsd:map-codebase` — spawn 4 mapper agents to analyze codebase
2. Run `/gsd:new-project` — questioning, research, requirements, roadmap
3. Run `/gsd:plan-phase 1` — plan the UX overhaul phase

## User's Latest Feedback (CRITICAL — drives the roadmap)
The user playtested and gave these specific complaints:

### XP Orbs Color
- Green XP orbs blend with green nebula backgrounds — **change to ORANGE**
- User said: "the XP being green is quite bad... sometimes the nebula looks green"

### Ground Drop Labels
- Text labels ("BOMB", "MAG", "SH") are too small to read
- **Replace text labels with visual icons** so players can see at a glance what each drop is
- User said: "you should be doing is actually having little icons so people can visually see"

### Bottom Stat Bar
- The bottom stat bar (DMG, RATE, SPD, SH, HP, CRIT, PIER, STK) is cluttered and unhelpful
- User wants it **moved to the top** or redesigned
- User said: "You don't need to have the bit at the bottom... that should be at the top ideally"

### Twin Laser Visual Feedback
- Still looks terrible despite hit flash fix — needs MUCH more visual impact
- Enemy health bars should visibly drain when laser hits them
- User said: "you should start seeing their health bar go down... no indication they're getting attacked"

### Overall UX Quality
- User wants Survivor.io-style UX as reference — research how that game handles:
  - Power-up/drop visuals
  - HUD layout
  - Weapon visual feedback
  - Level-up UI
- User said: "look at a good example like Survivor.io to see exactly what they do"

## PRD v4 Chunks Still TODO
- Chunk E: Near Miss + Dodge Meter
- Chunk G: Scrapyard Between-Wave Shop
- Chunk H: Full Life Steal + Vampire Core
- Chunk J: Boss Taunts
</remaining_work>

<decisions_made>

- Shield default reduced from 3 to 1 (user was never dying)
- XP thresholds increased significantly (50/90/140/200) to slow leveling
- XP orbs use Graphics-drawn circles instead of sprites (no physics group)
- Enemy scales reduced ~20% for better visual clarity
- Zone transitions every 2-3 waves for more visual variety
- Shield sounds are procedural (Web Audio oscillators) since no asset files
</decisions_made>

<blockers>
- None technical — all changes build and run
- User UX expectations are high — needs Survivor.io research before next implementation pass
</blockers>

<context>
The user is iterating on game feel through playtesting. Each session involves implementing changes, user tests on localhost:5181/?dev=1, then provides detailed verbal feedback. The game is a Phaser 3 mobile portrait (1080x1920) horde-survival shooter.

The user's main frustration is UX quality — things look "not good enough" compared to polished mobile games like Survivor.io. The next session should focus heavily on researching Survivor.io UX patterns and applying them.

Key files for UX work:
- `src/systems/XPManager.js` — XP orb rendering (change green→orange)
- `src/systems/GroundDropManager.js` — drop icons instead of text
- `src/ui/StatBar.js` — bottom stat strip (redesign/relocate)
- `src/systems/HUD.js` — top HUD layout
- `src/weapons/TwinLaser.js` — laser visual feedback
- `src/scenes/GameScene.js` — main game loop, drawEnemyHealthBars()
</context>

<next_action>
1. Start with `/gsd:map-codebase` to complete the codebase mapping (directory already created, just need to spawn agents)
2. Then `/gsd:new-project` to create PROJECT.md, REQUIREMENTS.md, ROADMAP.md
3. The roadmap should prioritize: UX overhaul (Survivor.io research → orange XP orbs → icon drops → HUD redesign → laser visuals)
</next_action>
